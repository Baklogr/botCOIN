<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HamsterTON - Cyber Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0a;
            --bg-medium: #1a1a1a;
            --bg-light: #2a2a2a;
            --text-color: #e0f2f7; /* –°–≤—ñ—Ç–ª–æ-–±–ª–∞–∫–∏—Ç–Ω–∏–π –¥–ª—è —Ç–µ–∫—Å—Ç—É */
            --accent-neon-blue: #00ffff; /* –Ø—Å–∫—Ä–∞–≤–∏–π –Ω–µ–æ–Ω–æ–≤–∏–π —Å–∏–Ω—ñ–π */
            --accent-neon-green: #00ff00; /* –Ø—Å–∫—Ä–∞–≤–∏–π –Ω–µ–æ–Ω–æ–≤–∏–π –∑–µ–ª–µ–Ω–∏–π */
            --accent-neon-purple: #ff00ff; /* –Ø—Å–∫—Ä–∞–≤–∏–π –Ω–µ–æ–Ω–æ–≤–∏–π —Ñ—ñ–æ–ª–µ—Ç–æ–≤–∏–π */
            --border-color: #00ffff;
            --glow-strength: 0 0 10px var(--accent-neon-blue), 0 0 20px var(--accent-neon-blue);
        }

        body {
            font-family: 'Share Tech Mono', monospace; /* –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–∏–π –¥–ª—è —Ç–µ–∫—Å—Ç—É */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            min-height: 100vh;
            background-color: var(--bg-dark);
            color: var(--text-color);
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        header {
            width: 100%;
            padding: 15px 0;
            text-align: center;
            background-color: var(--bg-medium);
            box-shadow: var(--glow-strength);
            z-index: 10;
            flex-shrink: 0;
            border-bottom: 2px solid var(--border-color);
        }

        #balance-container {
            font-family: 'Orbitron', sans-serif; /* –§—É—Ç—É—Ä–∏—Å—Ç–∏—á–Ω–∏–π –¥–ª—è –±–∞–ª–∞–Ω—Å—É */
            font-size: 2.8em;
            font-weight: 700;
            color: var(--accent-neon-green);
            text-shadow: var(--glow-strength);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
        }

        #coin-icon-header {
            width: 45px;
            height: 45px;
            vertical-align: middle;
            margin-right: 10px;
            object-fit: contain;
            filter: drop-shadow(0 0 8px var(--accent-neon-green));
        }
        
        #profit-per-hour {
            font-size: 1.1em;
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 0 5px rgba(0,255,255,0.5);
        }
        #profit-per-hour .icon {
            margin-right: 8px;
            font-size: 1.2em;
            color: var(--accent-neon-purple);
        }

        main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            position: relative;
            padding: 20px 0;
            box-sizing: border-box;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        main::-webkit-scrollbar {
            display: none;
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è —Å–µ–∫—Ü—ñ—ó –¢–∞–ø—É */
        #tap-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-bottom: 25px;
        }

        #tap-area {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle at center, var(--bg-medium) 0%, var(--bg-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--glow-strength);
            transition: transform 0.1s ease-out, box-shadow 0.2s ease-out;
            position: relative;
            overflow: hidden;
            border: 3px solid var(--border-color);
        }

        #tap-area:active {
            transform: scale(0.92);
            box-shadow: 0 0 5px var(--accent-neon-blue), 0 0 15px var(--accent-neon-blue), 0 0 25px var(--accent-neon-blue);
        }

        #ton-coin-image {
            width: 85%;
            height: 85%;
            object-fit: contain;
            filter: drop-shadow(0 0 10px var(--accent-neon-blue));
            transition: transform 0.1s ease-out;
        }

        .click-animation {
            position: absolute;
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            opacity: 0;
            animation: fadeOutUp 1s forwards;
            pointer-events: none;
            color: var(--accent-neon-green);
            text-shadow: var(--glow-strength);
            font-weight: bold;
            z-index: 100;
        }

        @keyframes fadeOutUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-80px); opacity: 0; }
        }

        #energy-bar-container {
            width: 90%;
            max-width: 320px;
            background-color: #333;
            border-radius: 12px;
            height: 25px;
            margin-top: 25px;
            overflow: hidden;
            box-shadow: inset 0 0 8px rgba(0,0,0,0.6);
            border: 1px solid var(--border-color);
        }

        #energy-bar {
            height: 100%;
            width: 100%;
            background: linear-gradient(to right, var(--accent-neon-green), #00cc66);
            border-radius: 12px;
            transition: width 0.2s linear;
        }

        #energy-text {
            text-align: center;
            margin-top: 10px;
            font-size: 1em;
            color: var(--text-color);
            text-shadow: 0 0 5px rgba(0,255,0,0.5);
        }

        /* –ó–∞–≥–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è —Å–µ–∫—Ü—ñ–π –∫–æ–Ω—Ç–µ–Ω—Ç—É */
        .content-section {
            width: 90%;
            max-width: 480px;
            background-color: var(--bg-medium);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            box-shadow: var(--glow-strength);
            display: none;
            flex-direction: column;
            gap: 18px;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
        }
        .content-section.active {
            display: flex;
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            color: var(--accent-neon-blue);
            text-shadow: var(--glow-strength);
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∞–ø–≥—Ä–µ–π–¥—É */
        .upgrade-item {
            display: flex;
            align-items: center;
            background-color: var(--bg-dark);
            padding: 15px 25px;
            border-radius: 12px;
            transition: background-color 0.2s;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(0,255,255,0.3);
            border: 1px solid rgba(0,255,255,0.5);
        }
        .upgrade-item:hover:not(.disabled) {
            background-color: #202020;
            box-shadow: 0 0 15px var(--accent-neon-blue);
        }
        .upgrade-item.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background-color: #050505;
            border-color: #101010;
            box-shadow: none;
        }

        .upgrade-icon {
            font-size: 3em;
            margin-right: 25px;
            color: var(--accent-neon-purple);
            text-shadow: 0 0 8px var(--accent-neon-purple);
        }

        .upgrade-info {
            flex-grow: 1;
        }
        .upgrade-name {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--text-color);
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        .upgrade-cost {
            font-size: 1.1em;
            color: var(--text-color);
            margin-top: 8px;
            display: flex;
            align-items: center;
        }
        .upgrade-cost .icon {
            margin-right: 10px;
            font-size: 1.3em;
            color: var(--accent-neon-green);
            text-shadow: 0 0 5px var(--accent-neon-green);
        }
        .upgrade-profit {
            font-size: 1em;
            color: var(--accent-neon-green);
            margin-top: 5px;
            font-weight: 500;
            text-shadow: 0 0 5px var(--accent-neon-green);
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –Ω–∏–∂–Ω—å–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–æ—ó –ø–∞–Ω–µ–ª—ñ (–í–ò–ü–†–ê–í–õ–ï–ù–û) */
        .controls {
            width: 100%;
            padding: 10px 0; /* –ó–º–µ–Ω—à—É—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏ */
            display: flex;
            justify-content: space-around;
            background-color: var(--bg-medium);
            box-shadow: var(--glow-strength);
            z-index: 10;
            flex-shrink: 0;
            border-top: 2px solid var(--border-color);
            box-sizing: border-box; /* –í–∞–∂–ª–∏–≤–æ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —à–∏—Ä–∏–Ω–∏ */
        }

        .control-button {
            background-color: transparent;
            color: var(--text-color);
            border: none;
            padding: 5px 0; /* –ó–º–µ–Ω—à—É—î–º–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏ */
            border-radius: 8px; /* –¢—Ä–æ—Ö–∏ –º–µ–Ω—à–∏–π —Ä–∞–¥—ñ—É—Å */
            font-size: 0.85em; /* –ó–º–µ–Ω—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É */
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, color 0.2s, text-shadow 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            flex: 1; /* –î–æ–∑–≤–æ–ª—è—î –∫–Ω–æ–ø–∫–∞–º –∑–∞–π–º–∞—Ç–∏ —Ä—ñ–≤–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä */
            max-width: 80px; /* –û–±–º–µ–∂—É—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É —à–∏—Ä–∏–Ω—É –∫–Ω–æ–ø–∫–∏ */
            text-shadow: 0 0 3px rgba(255,255,255,0.3);
            white-space: nowrap; /* –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—é —Ç–µ–∫—Å—Ç—É */
            overflow: hidden; /* –û–±—Ä—ñ–∑–∞—î–º–æ, —è–∫—â–æ —Ç–µ–∫—Å—Ç –≤—Å–µ –∂ –Ω–µ –≤–º—ñ—â–∞—î—Ç—å—Å—è */
            text-overflow: ellipsis; /* –î–æ–¥–∞—î–º–æ —Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏, —è–∫—â–æ —Ç–µ–∫—Å—Ç –æ–±—Ä—ñ–∑–∞–Ω–æ */
        }

        .control-button.active {
            background-color: var(--bg-dark);
            color: var(--accent-neon-blue);
            transform: translateY(-3px); /* –¢—Ä–æ—Ö–∏ –º–µ–Ω—à–∏–π –ø—ñ–¥–π–æ–º */
            text-shadow: var(--glow-strength);
            border: 1px solid var(--accent-neon-blue);
        }

        .control-button:hover:not(.active) {
            background-color: #202020;
            color: var(--accent-neon-green);
            text-shadow: 0 0 6px var(--accent-neon-green);
        }

        .control-button:active {
            transform: scale(0.9); /* –¢—Ä–æ—Ö–∏ —Å–∏–ª—å–Ω—ñ—à–µ —Å—Ç–∏—Å–∫–∞–Ω–Ω—è */
        }

        .button-icon {
            font-size: 1.6em; /* –ó–º–µ–Ω—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä —ñ–∫–æ–Ω–∫–∏ */
            margin-bottom: 5px; /* –ó–º–µ–Ω—à—É—î–º–æ –≤—ñ–¥—Å—Ç—É–ø –ø—ñ–¥ —ñ–∫–æ–Ω–∫–æ—é */
        }
        
        /* –°—Ç–∏–ª—ñ –¥–ª—è Boost —Å–µ–∫—Ü—ñ—ó */
        #boost-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 25px;
            box-sizing: border-box;
        }

        .boost-item {
            background-color: var(--bg-dark);
            padding: 20px;
            border-radius: 12px;
            width: 100%;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            box-shadow: 0 0 8px rgba(0,255,255,0.3);
            border: 1px solid rgba(0,255,255,0.5);
        }

        .boost-item .boost-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4em;
            font-weight: 700;
            color: var(--accent-neon-blue);
            text-shadow: var(--glow-strength);
        }

        .boost-item .boost-desc {
            font-size: 1em;
            color: var(--text-color);
            text-align: center;
            text-shadow: 0 0 5px rgba(255,255,255,0.2);
        }

        .boost-button {
            background-color: var(--accent-neon-green);
            color: var(--bg-dark);
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            width: 90%;
            max-width: 280px;
            font-weight: 700;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
            box-shadow: 0 0 10px var(--accent-neon-green);
        }

        .boost-button:hover:not(:disabled) {
            background-color: #00e600;
            transform: translateY(-2px);
            box-shadow: 0 0 15px var(--accent-neon-green);
        }
        .boost-button:disabled {
            background-color: #444;
            cursor: not-allowed;
            box-shadow: none;
            color: #888;
            text-shadow: none;
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å-–ø–æ–ø-–∞–ø—ñ–≤ */
        .popup-message {
            position: fixed;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.9);
            color: var(--accent-neon-blue);
            padding: 15px 30px;
            border-radius: 12px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
            z-index: 1000;
            font-size: 1.2em;
            font-weight: 700;
            text-shadow: var(--glow-strength);
            box-shadow: var(--glow-strength);
        }
        .popup-message.show {
            opacity: 1;
            visibility: visible;
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è —Å–µ–∫—Ü—ñ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        #stats-section p {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: var(--text-color);
        }
        #stats-section p span {
            font-weight: 700;
            color: var(--accent-neon-green);
            margin-left: 8px;
            text-shadow: 0 0 5px var(--accent-neon-green);
        }

        /* –°—Ç–∏–ª—ñ –¥–ª—è —Å–µ–∫—Ü—ñ–π –¥—Ä—É–∑—ñ–≤ —Ç–∞ Airdrop (–∑–∞–≥–ª—É—à–∫–∏) */
        #friends-section, #airdrop-section {
            text-align: center;
        }
        #friends-section p, #airdrop-section p {
            margin-bottom: 25px;
            color: var(--text-color);
            text-shadow: 0 0 3px rgba(255,255,255,0.2);
        }
        #airdrop-section ul {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }
        #airdrop-section li {
            background-color: var(--bg-dark);
            margin-bottom: 10px;
            padding: 12px;
            border-radius: 10px;
            font-size: 1.1em;
            color: var(--accent-neon-purple);
            box-shadow: 0 0 5px var(--accent-neon-purple);
            border: 1px solid rgba(255,0,255,0.5);
        }
    </style>
</head>
<body>
    <header>
        <div id="balance-container">
            <img id="coin-icon-header" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Ton_blockchain_logo.svg/1200px-Ton_blockchain_logo.svg.png" alt="TON Coin">
            <span id="coin-balance">0</span>
        </div>
        <div id="profit-per-hour">
            <span class="icon">üìà</span>
            <span id="profit-value">0</span> / –≥–æ–¥
        </div>
    </header>

    <main>
        <section id="tap-section" class="content-section active">
            <div id="tap-area">
                <img id="ton-coin-image" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Ton_blockchain_logo.svg/1200px-Ton_blockchain_logo.svg.png" alt="TON Coin">
            </div>
            <div id="energy-bar-container">
                <div id="energy-bar"></div>
            </div>
            <div id="energy-text"><span id="current-energy">0</span> / <span id="max-energy">0</span></div>
        </section>

        <section id="mine-section" class="content-section">
            <div class="section-title">CYBER MINES</div>
            <div id="upgrades-list">
                </div>
        </section>

        <section id="boost-section" class="content-section">
            <div class="section-title">SYSTEM BOOSTS</div>
            <div class="boost-item">
                <div class="boost-title">FULL ENERGY RECHARGE</div>
                <div class="boost-desc">Instantly restores all system energy.</div>
                <button class="boost-button" id="full-energy-boost">
                    RECHARGE (<span id="full-energy-boost-count">3</span>/3 per cycle)
                </button>
            </div>
            <div class="boost-item">
                <div class="boost-title">MULTITAP PROTOCOL</div>
                <div class="boost-desc">Doubles click output for 60 seconds.</div>
                <button class="boost-button" id="multitap-boost">
                    ACTIVATE (<span id="multitap-boost-count">3</span>/3 per cycle)
                </button>
            </div>
            <div class="boost-item">
                <div class="boost-title">ENERGY CORE OVERLOAD</div>
                <div class="boost-desc">Temporarily increases max energy by 500 units.</div>
                <button class="boost-button" id="energy-limit-boost">
                    OVERLOAD (<span id="energy-limit-boost-count">3</span>/3 per cycle)
                </button>
            </div>
        </section>

        <section id="stats-section" class="content-section">
            <div class="section-title">DATA LOGS</div>
            <p>Total Balance: <span id="stats-balance">0</span> üíé</p>
            <p>Click Output: <span id="stats-tap-power">1</span> üíé</p>
            <p>Hourly Yield: <span id="stats-profit-hour">0</span> üíé</p>
            <p>Current Energy: <span id="stats-energy">0</span> / <span id="stats-max-energy">0</span></p>
            <p>Recharge Boosts Used: <span id="stats-full-energy-used">0</span></p>
            <p>Multitap Protocols Activated: <span id="stats-multitap-used">0</span></p>
            <p>Core Overloads Initiated: <span id="stats-energy-limit-used">0</span></p>
        </section>

        <section id="friends-section" class="content-section">
            <div class="section-title">NETWORK ACCESS</div>
            <p>Invite fellow operatives and expand your network for bonus rewards. (Feature in development)</p>
            <button class="boost-button" style="background-color: var(--accent-neon-purple);">INITIATE INVITE</button>
        </section>

        <section id="airdrop-section" class="content-section">
            <div class="section-title">AIRDROP PROTOCOLS</div>
            <p>Complete data bounties to earn additional TON units! (Feature in development)</p>
            <ul>
                <li>Engage with X-Channel (+1000 üíé)</li>
                <li>Join Y-Group (+500 üíé)</li>
            </ul>
            <button class="boost-button" style="background-color: #ff8c00;">EXECUTE BOUNTY</button>
        </section>

    </main>

    <div class="controls">
        <a href="#tap" class="control-button active" data-section="tap-section"><span class="button-icon">‚ö°</span><span>TAP</span></a>
        <a href="#mine" class="control-button" data-section="mine-section"><span class="button-icon">‚öôÔ∏è</span><span>MINES</span></a>
        <a href="#boost" class="control-button" data-section="boost-section"><span class="button-icon">üöÄ</span><span>BOOSTS</span></a>
        <a href="#stats" class="control-button" data-section="stats-section"><span class="button-icon">üìä</span><span>DATA</span></a>
        <a href="#friends" class="control-button" data-section="friends-section"><span class="button-icon">üåê</span><span>NETWORK</span></a>
        <a href="#airdrop" class="control-button" data-section="airdrop-section"><span class="button-icon">üì¶</span><span>AIRDROP</span></a>
    </div>

    <div id="popup-message" class="popup-message"></div>

    <script>
        const STORAGE_KEY = 'hamsterClickerGameDataCyberEdition'; // –ó–º—ñ–Ω—é—î–º–æ –∫–ª—é—á —Å—Ö–æ–≤–∏—â–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω—É

        const coinBalanceDisplay = document.getElementById('coin-balance');
        const profitValueDisplay = document.getElementById('profit-value');
        const tapArea = document.getElementById('tap-area');
        const energyBar = document.getElementById('energy-bar');
        const currentEnergyDisplay = document.getElementById('current-energy');
        const maxEnergyDisplay = document.getElementById('max-energy');
        const upgradesList = document.getElementById('upgrades-list');
        const popupMessage = document.getElementById('popup-message');

        // Boost –µ–ª–µ–º–µ–Ω—Ç–∏
        const fullEnergyBoostBtn = document.getElementById('full-energy-boost');
        const fullEnergyBoostCountDisplay = document.getElementById('full-energy-boost-count');
        const multitapBoostBtn = document.getElementById('multitap-boost');
        const multitapBoostCountDisplay = document.getElementById('multitap-boost-count');
        const energyLimitBoostBtn = document.getElementById('energy-limit-boost');
        const energyLimitBoostCountDisplay = document.getElementById('energy-limit-boost-count');

        // Stats –µ–ª–µ–º–µ–Ω—Ç–∏
        const statsBalance = document.getElementById('stats-balance');
        const statsTapPower = document.getElementById('stats-tap-power');
        const statsProfitHour = document.getElementById('stats-profit-hour');
        const statsEnergy = document.getElementById('stats-energy');
        const statsMaxEnergy = document.getElementById('stats-max-energy');
        const statsFullEnergyUsed = document.getElementById('stats-full-energy-used');
        const statsMultitapUsed = document.getElementById('stats-multitap-used');
        const statsEnergyLimitUsed = document.getElementById('stats-energy-limit-used');

        let gameState = {
            coinBalance: 0,
            tapPower: 1, // –î–æ—Ö—ñ–¥ –∑–∞ 1 –∫–ª—ñ–∫
            profitPerHour: 0, // –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ –∑–∞ –≥–æ–¥–∏–Ω—É
            currentEnergy: 500,
            maxEnergy: 500,
            energyRecoveryRate: 3, // –ï–Ω–µ—Ä–≥—ñ—ó –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∑–∞ —Å–µ–∫—É–Ω–¥—É
            upgrades: {
                // 'id': { level: 0, cost: initialCost, profit: initialProfit, tapPower: initialTapPower }
            },
            boosts: {
                fullEnergy: { count: 3, dailyLimit: 3, usedToday: 0, lastUsedDate: null },
                multitap: { count: 3, dailyLimit: 3, usedToday: 0, lastUsedDate: null, isActive: false, timer: null },
                energyLimit: { count: 3, dailyLimit: 3, usedToday: 0, lastUsedDate: null, isActive: false, timer: null }
            },
            stats: {
                fullEnergyUsed: 0,
                multitapUsed: 0,
                energyLimitUsed: 0
            },
            lastActiveTime: Date.now() // –î–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –æ—Ñ–ª–∞–π–Ω-–¥–æ—Ö–æ–¥—É
        };

        // –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∞–ø–≥—Ä–µ–π–¥—ñ–≤ (—Ç—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ)
        const allUpgrades = [
            { id: 'exchange_tier_1', name: 'Quantum Exchange Node', icon: 'üè¶', baseCost: 100, costMultiplier: 1.5, baseProfit: 1, type: 'profit' },
            { id: 'mining_rig_1', name: 'Basic Data Miner', icon: '‚õèÔ∏è', baseCost: 500, costMultiplier: 1.6, baseProfit: 5, type: 'profit' },
            { id: 'tap_mastery_1', name: 'Neural Interface Upgrade', icon: 'üëÜ', baseCost: 1000, costMultiplier: 1.7, baseTapPower: 1, type: 'tap' },
            { id: 'marketing_campaign', name: 'Viral Protocol Injection', icon: 'üì¢', baseCost: 2000, costMultiplier: 1.8, baseProfit: 10, type: 'profit' },
            { id: 'exchange_tier_2', name: 'Galactic Trade Hub', icon: 'üè¶', baseCost: 5000, costMultiplier: 1.5, baseProfit: 20, type: 'profit' },
            { id: 'mining_rig_2', name: 'Advanced Data Extractor', icon: '‚õèÔ∏è', baseCost: 10000, costMultiplier: 1.6, baseProfit: 50, type: 'profit' },
            { id: 'energy_upgrade', name: 'Core Energy Capacitor', icon: '‚ö°', baseCost: 15000, costMultiplier: 1.4, baseMaxEnergy: 200, type: 'energy' },
        ];

        function loadGameState() {
            const savedState = localStorage.getItem(STORAGE_KEY);
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                // –ö–æ–ø—ñ—é—î–º–æ —Ç—ñ–ª—å–∫–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —ñ–Ω'—î–∫—Ü—ñ–π –∞–±–æ —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö
                for (const key in gameState) {
                    if (parsedState.hasOwnProperty(key)) {
                        gameState[key] = parsedState[key];
                    }
                }
                // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –¥–∞—Ç–∏ –Ω–∞–∑–∞–¥ –≤ –æ–±'—î–∫—Ç–∏ Date
                if (gameState.boosts.fullEnergy.lastUsedDate) {
                    gameState.boosts.fullEnergy.lastUsedDate = new Date(gameState.boosts.fullEnergy.lastUsedDate);
                }
                if (gameState.boosts.multitap.lastUsedDate) {
                    gameState.boosts.multitap.lastUsedDate = new Date(gameState.boosts.multitap.lastUsedDate);
                }
                if (gameState.boosts.energyLimit.lastUsedDate) {
                    gameState.boosts.energyLimit.lastUsedDate = new Date(gameState.boosts.energyLimit.lastUsedDate);
                }
            }

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–∏—Ö –±—É—Å—Ç—ñ–≤
            const today = new Date().toDateString();
            for (const boostType in gameState.boosts) {
                const boost = gameState.boosts[boostType];
                if (boost.lastUsedDate && new Date(boost.lastUsedDate).toDateString() !== today) {
                    boost.usedToday = 0;
                    boost.lastUsedDate = null;
                }
            }

            calculateOfflineProfit();
            updateDisplay();
            renderUpgrades();
            updateBoostButtons();
            updateStatsDisplay();
        }

        function saveGameState() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(gameState));
        }

        function calculateOfflineProfit() {
            const now = Date.now();
            const timeElapsedMs = now - gameState.lastActiveTime;
            const timeElapsedHours = timeElapsedMs / (1000 * 60 * 60);

            if (timeElapsedHours > 0 && gameState.profitPerHour > 0) {
                let offlineProfit = gameState.profitPerHour * timeElapsedHours;
                // –û–±–º–µ–∂–∏–º–æ –æ—Ñ–ª–∞–π–Ω-–¥–æ—Ö—ñ–¥, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 3 –≥–æ–¥–∏–Ω–∞–º–∏, —â–æ–± –Ω–µ –±—É–ª–æ –∑–∞–Ω–∞–¥—Ç–æ –±–∞–≥–∞—Ç–æ
                const maxOfflineHours = 3;
                if (timeElapsedHours > maxOfflineHours) {
                    offlineProfit = gameState.profitPerHour * maxOfflineHours;
                }
                
                gameState.coinBalance += offlineProfit;
                showPopupMessage(`Offline Data Received: +${formatNumber(offlineProfit)} üíé`);
            }
            gameState.lastActiveTime = now;
            saveGameState(); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –Ω–æ–≤–∏–π —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
        }

        function updateDisplay() {
            coinBalanceDisplay.textContent = formatNumber(gameState.coinBalance);
            profitValueDisplay.textContent = formatNumber(gameState.profitPerHour);
            energyBar.style.width = (gameState.currentEnergy / gameState.maxEnergy) * 100 + '%';
            currentEnergyDisplay.textContent = Math.floor(gameState.currentEnergy);
            maxEnergyDisplay.textContent = gameState.maxEnergy;
            updateBoostButtons(); // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫ –±—É—Å—Ç—ñ–≤
            updateStatsDisplay(); // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        }

        function formatNumber(num) {
            if (num >= 1_000_000_000_000) return (num / 1_000_000_000_000).toFixed(2) + 'T';
            if (num >= 1_000_000_000) return (num / 1_000_000_000).toFixed(2) + 'B';
            if (num >= 1_000_000) return (num / 1_000_000).toFixed(2) + 'M';
            if (num >= 1_000) return (num / 1_000).toFixed(2) + 'K';
            return Math.floor(num).toString();
        }

        function createClickAnimation(x, y, value) {
            const animationElement = document.createElement('div');
            animationElement.textContent = `+${formatNumber(value)}`;
            animationElement.classList.add('click-animation');
            // –©–æ–± –∞–Ω—ñ–º–∞—Ü—ñ—è –∑'—è–≤–ª—è–ª–∞—Å—è –±—ñ–ª—è –º—ñ—Å—Ü—è –∫–ª—ñ–∫—É
            animationElement.style.left = `${x}px`;
            animationElement.style.top = `${y}px`;
            document.body.appendChild(animationElement);

            animationElement.addEventListener('animationend', () => {
                animationElement.remove();
            });
        }

        tapArea.addEventListener('click', (e) => {
            if (gameState.currentEnergy >= gameState.tapPower) {
                gameState.coinBalance += gameState.tapPower;
                gameState.currentEnergy -= gameState.tapPower;

                updateDisplay();
                saveGameState();

                const rect = tapArea.getBoundingClientRect();
                const clickX = e.clientX;
                const clickY = e.clientY;
                createClickAnimation(clickX, clickY, gameState.tapPower);

            } else {
                showPopupMessage("INSUFFICIENT ENERGY! RECHARGE REQUIRED.");
            }
        });

        // –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó
        setInterval(() => {
            if (gameState.currentEnergy < gameState.maxEnergy) {
                gameState.currentEnergy += (gameState.energyRecoveryRate / 10); // –¥—ñ–ª–∏–º–æ –Ω–∞ 10, –±–æ —ñ–Ω—Ç–µ—Ä–≤–∞–ª 100–º—Å
                if (gameState.currentEnergy > gameState.maxEnergy) {
                    gameState.currentEnergy = gameState.maxEnergy;
                }
                updateDisplay();
                saveGameState();
            }
        }, 100); // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–∂–Ω—ñ 100 –º—Å

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–∞—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É
        setInterval(() => {
            if (gameState.profitPerHour > 0) {
                // –î–æ–¥–∞—î–º–æ –¥–æ—Ö—ñ–¥ —â–æ—Å–µ–∫—É–Ω–¥–∏, —Ç–æ–º—É profitPerHour / 3600
                gameState.coinBalance += (gameState.profitPerHour / 3600);
                updateDisplay();
                saveGameState();
            }
        }, 1000); // –ö–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É

        // --- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–ø–≥—Ä–µ–π–¥–∞–º–∏ ---
        function renderUpgrades() {
            upgradesList.innerHTML = '';
            allUpgrades.forEach(upgrade => {
                const currentLevel = gameState.upgrades[upgrade.id] ? gameState.upgrades[upgrade.id].level : 0;
                const nextCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, currentLevel));
                
                const upgradeItem = document.createElement('div');
                upgradeItem.classList.add('upgrade-item');
                upgradeItem.dataset.id = upgrade.id;

                let profitText = '';
                if (upgrade.type === 'profit') {
                    const nextProfit = Math.floor(upgrade.baseProfit * (currentLevel + 1));
                    profitText = `<div class="upgrade-profit">+${formatNumber(nextProfit)}/HOUR</div>`;
                } else if (upgrade.type === 'tap') {
                    const nextTapPower = Math.floor(upgrade.baseTapPower * (currentLevel + 1));
                    profitText = `<div class="upgrade-profit">TAP BOOST: +${formatNumber(nextTapPower)}</div>`;
                } else if (upgrade.type === 'energy') {
                    const nextMaxEnergy = Math.floor(upgrade.baseMaxEnergy * (currentLevel + 1));
                    profitText = `<div class="upgrade-profit">MAX ENERGY: +${formatNumber(nextMaxEnergy)}</div>`;
                }

                upgradeItem.innerHTML = `
                    <div class="upgrade-icon">${upgrade.icon}</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">${upgrade.name} (LVL ${currentLevel})</div>
                        <div class="upgrade-cost">
                            <span class="icon">üíé</span>${formatNumber(nextCost)}
                        </div>
                        ${profitText}
                    </div>
                `;

                if (gameState.coinBalance < nextCost) {
                    upgradeItem.classList.add('disabled');
                }

                upgradeItem.addEventListener('click', () => buyUpgrade(upgrade.id));
                upgradesList.appendChild(upgradeItem);
            });
        }

        function buyUpgrade(upgradeId) {
            const upgrade = allUpgrades.find(u => u.id === upgradeId);
            if (!upgrade) return;

            const currentLevel = gameState.upgrades[upgradeId] ? gameState.upgrades[upgradeId].level : 0;
            const nextCost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, currentLevel));

            if (gameState.coinBalance >= nextCost) {
                gameState.coinBalance -= nextCost;
                if (!gameState.upgrades[upgradeId]) {
                    gameState.upgrades[upgradeId] = { level: 0 };
                }
                gameState.upgrades[upgradeId].level++;

                // –û–Ω–æ–≤–ª—é—î–º–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≥—Ä–∏
                if (upgrade.type === 'profit') {
                    gameState.profitPerHour += Math.floor(upgrade.baseProfit * (currentLevel + 1));
                } else if (upgrade.type === 'tap') {
                    gameState.tapPower += Math.floor(upgrade.baseTapPower * (currentLevel + 1));
                } else if (upgrade.type === 'energy') {
                    gameState.maxEnergy += Math.floor(upgrade.baseMaxEnergy * (currentLevel + 1));
                    // –ú–∏—Ç—Ç—î–≤–æ –ø–æ–ø–æ–≤–Ω—é—î–º–æ –µ–Ω–µ—Ä–≥—ñ—é –ø—ñ—Å–ª—è –∞–ø–≥—Ä–µ–π–¥—É –ª—ñ–º—ñ—Ç—É
                    gameState.currentEnergy = gameState.maxEnergy; 
                }

                showPopupMessage(`UPGRADE COMPLETE: ${upgrade.name} LVL ${gameState.upgrades[upgradeId].level}!`);
                updateDisplay();
                renderUpgrades();
                saveGameState();
            } else {
                showPopupMessage("INSUFFICIENT FUNDS!");
            }
        }

        // --- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—É—Å—Ç–∞–º–∏ ---
        function updateBoostButtons() {
            const today = new Date().toDateString();

            // Full Energy Boost
            if (gameState.boosts.fullEnergy.lastUsedDate && gameState.boosts.fullEnergy.lastUsedDate.toDateString() === today) {
                fullEnergyBoostCountDisplay.textContent = `${gameState.boosts.fullEnergy.dailyLimit - gameState.boosts.fullEnergy.usedToday}/${gameState.boosts.fullEnergy.dailyLimit} per cycle`;
                if (gameState.boosts.fullEnergy.usedToday >= gameState.boosts.fullEnergy.dailyLimit) {
                    fullEnergyBoostBtn.disabled = true;
                } else {
                    fullEnergyBoostBtn.disabled = false;
                }
            } else {
                gameState.boosts.fullEnergy.usedToday = 0;
                fullEnergyBoostCountDisplay.textContent = `${gameState.boosts.fullEnergy.dailyLimit - gameState.boosts.fullEnergy.usedToday}/${gameState.boosts.fullEnergy.dailyLimit} per cycle`;
                fullEnergyBoostBtn.disabled = false;
            }

            // Multitap Boost
            if (gameState.boosts.multitap.lastUsedDate && gameState.boosts.multitap.lastUsedDate.toDateString() === today) {
                multitapBoostCountDisplay.textContent = `${gameState.boosts.multitap.dailyLimit - gameState.boosts.multitap.usedToday}/${gameState.boosts.multitap.dailyLimit} per cycle`;
                if (gameState.boosts.multitap.usedToday >= gameState.boosts.multitap.dailyLimit || gameState.boosts.multitap.isActive) {
                    multitapBoostBtn.disabled = true;
                } else {
                    multitapBoostBtn.disabled = false;
                }
            } else {
                gameState.boosts.multitap.usedToday = 0;
                multitapBoostCountDisplay.textContent = `${gameState.boosts.multitap.dailyLimit - gameState.boosts.multitap.usedToday}/${gameState.boosts.multitap.dailyLimit} per cycle`;
                multitapBoostBtn.disabled = false;
            }

            // Energy Limit Boost
            if (gameState.boosts.energyLimit.lastUsedDate && gameState.boosts.energyLimit.lastUsedDate.toDateString() === today) {
                energyLimitBoostCountDisplay.textContent = `${gameState.boosts.energyLimit.dailyLimit - gameState.boosts.energyLimit.usedToday}/${gameState.boosts.energyLimit.dailyLimit} per cycle`;
                if (gameState.boosts.energyLimit.usedToday >= gameState.boosts.energyLimit.dailyLimit || gameState.boosts.energyLimit.isActive) {
                    energyLimitBoostBtn.disabled = true;
                } else {
                    energyLimitBoostBtn.disabled = false;
                }
            } else {
                gameState.boosts.energyLimit.usedToday = 0;
                energyLimitBoostCountDisplay.textContent = `${gameState.boosts.energyLimit.dailyLimit - gameState.boosts.energyLimit.usedToday}/${gameState.boosts.energyLimit.dailyLimit} per cycle`;
                energyLimitBoostBtn.disabled = false;
            }

            // –Ø–∫—â–æ multitap –∞–∫—Ç–∏–≤–Ω–∏–π, –≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∫–Ω–æ–ø–∫—É
            if (gameState.boosts.multitap.isActive) {
                multitapBoostBtn.textContent = 'ACTIVE!';
                multitapBoostBtn.disabled = true;
            } else if (gameState.boosts.multitap.usedToday < gameState.boosts.multitap.dailyLimit) {
                multitapBoostBtn.textContent = `ACTIVATE (${gameState.boosts.multitap.dailyLimit - gameState.boosts.multitap.usedToday}/${gameState.boosts.multitap.dailyLimit} per cycle)`;
            }

            // –Ø–∫—â–æ energyLimit –∞–∫—Ç–∏–≤–Ω–∏–π, –≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∫–Ω–æ–ø–∫—É
            if (gameState.boosts.energyLimit.isActive) {
                energyLimitBoostBtn.textContent = 'ACTIVE!';
                energyLimitBoostBtn.disabled = true;
            } else if (gameState.boosts.energyLimit.usedToday < gameState.boosts.energyLimit.dailyLimit) {
                energyLimitBoostBtn.textContent = `OVERLOAD (${gameState.boosts.energyLimit.dailyLimit - gameState.boosts.energyLimit.usedToday}/${gameState.boosts.energyLimit.dailyLimit} per cycle)`;
            }
        }

        fullEnergyBoostBtn.addEventListener('click', () => {
            const boost = gameState.boosts.fullEnergy;
            const today = new Date();
            if (boost.usedToday < boost.dailyLimit) {
                gameState.currentEnergy = gameState.maxEnergy;
                boost.usedToday++;
                boost.lastUsedDate = today;
                gameState.stats.fullEnergyUsed++;
                showPopupMessage("ENERGY CORE FULLY RESTORED!");
                updateDisplay();
                saveGameState();
            } else {
                showPopupMessage("DAILY RECHARGE LIMIT REACHED!");
            }
        });

        multitapBoostBtn.addEventListener('click', () => {
            const boost = gameState.boosts.multitap;
            const today = new Date();
            if (boost.usedToday < boost.dailyLimit && !boost.isActive) {
                boost.isActive = true;
                boost.usedToday++;
                boost.lastUsedDate = today;
                gameState.tapPower *= 2; // –ó–±—ñ–ª—å—à—É—î–º–æ –¥–æ—Ö—ñ–¥ –∑–∞ –∫–ª—ñ–∫
                gameState.stats.multitapUsed++;
                showPopupMessage("MULTITAP PROTOCOL ACTIVE! OUTPUT DOUBLED!");
                updateDisplay();
                saveGameState();

                // –î–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è —á–µ—Ä–µ–∑ 1 —Ö–≤–∏–ª–∏–Ω—É (60 —Å–µ–∫—É–Ω–¥)
                boost.timer = setTimeout(() => {
                    boost.isActive = false;
                    gameState.tapPower /= 2; // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–æ—Ö—ñ–¥ –∑–∞ –∫–ª—ñ–∫
                    showPopupMessage("MULTITAP PROTOCOL DEACTIVATED.");
                    updateDisplay();
                    saveGameState();
                }, 60 * 1000);
            } else if (boost.isActive) {
                showPopupMessage("MULTITAP PROTOCOL ALREADY ACTIVE!");
            } else {
                showPopupMessage("DAILY MULTITAP LIMIT REACHED!");
            }
        });

        energyLimitBoostBtn.addEventListener('click', () => {
            const boost = gameState.boosts.energyLimit;
            const today = new Date();
            if (boost.usedToday < boost.dailyLimit && !boost.isActive) {
                boost.isActive = true;
                boost.usedToday++;
                boost.lastUsedDate = today;
                gameState.maxEnergy += 500; // –ó–±—ñ–ª—å—à—É—î–º–æ –ª—ñ–º—ñ—Ç –µ–Ω–µ—Ä–≥—ñ—ó
                gameState.currentEnergy = gameState.maxEnergy; // –ü–æ–ø–æ–≤–Ω—é—î–º–æ –µ–Ω–µ—Ä–≥—ñ—é –¥–æ –Ω–æ–≤–æ–≥–æ –ª—ñ–º—ñ—Ç—É
                gameState.stats.energyLimitUsed++;
                showPopupMessage("ENERGY CORE CAPACITY INCREASED BY 500!");
                updateDisplay();
                saveGameState();

                // –î–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è —á–µ—Ä–µ–∑ 5 —Ö–≤–∏–ª–∏–Ω (300 —Å–µ–∫—É–Ω–¥)
                boost.timer = setTimeout(() => {
                    boost.isActive = false;
                    gameState.maxEnergy -= 500; // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –ª—ñ–º—ñ—Ç –µ–Ω–µ—Ä–≥—ñ—ó
                    if (gameState.currentEnergy > gameState.maxEnergy) {
                        gameState.currentEnergy = gameState.maxEnergy; // –Ø–∫—â–æ –µ–Ω–µ—Ä–≥—ñ—è –ø–µ—Ä–µ–≤–∏—â—É—î –Ω–æ–≤–∏–π –ª—ñ–º—ñ—Ç, –∑–º–µ–Ω—à—É—î–º–æ —ó—ó
                    }
                    showPopupMessage("ENERGY CORE OVERLOAD DEACTIVATED.");
                    updateDisplay();
                    saveGameState();
                }, 5 * 60 * 1000);
            } else if (boost.isActive) {
                showPopupMessage("ENERGY CORE OVERLOAD ALREADY ACTIVE!");
            } else {
                showPopupMessage("DAILY OVERLOAD LIMIT REACHED!");
            }
        });

        // --- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ü—ñ—è–º–∏ ---
        const controlButtons = document.querySelectorAll('.control-button');
        const contentSections = document.querySelectorAll('.content-section');

        controlButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const targetSectionId = button.dataset.section;

                controlButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                contentSections.forEach(section => {
                    if (section.id === targetSectionId) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });

                // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
                if (targetSectionId === 'stats-section') {
                    updateStatsDisplay();
                }
            });
        });

        function updateStatsDisplay() {
            statsBalance.textContent = formatNumber(gameState.coinBalance);
            statsTapPower.textContent = formatNumber(gameState.tapPower);
            statsProfitHour.textContent = formatNumber(gameState.profitPerHour);
            statsEnergy.textContent = Math.floor(gameState.currentEnergy);
            statsMaxEnergy.textContent = gameState.maxEnergy;
            statsFullEnergyUsed.textContent = gameState.stats.fullEnergyUsed;
            statsMultitapUsed.textContent = gameState.stats.multitapUsed;
            statsEnergyLimitUsed.textContent = gameState.stats.energyLimitUsed;
        }

        // --- –ü–æ–ø-–∞–ø –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ---
        let popupTimeout;
        function showPopupMessage(message, duration = 2000) {
            clearTimeout(popupTimeout);
            popupMessage.textContent = message;
            popupMessage.classList.add('show');
            popupTimeout = setTimeout(() => {
                popupMessage.classList.remove('show');
            }, duration);
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        loadGameState();
    </script>
</body>
</html>